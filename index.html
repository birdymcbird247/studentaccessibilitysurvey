<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Learning Preferences</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc; /* Lighter gray for better contrast */
        }
        /* Style for the selectable cards */
        .preference-card {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .preference-card.selected {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: #2563eb; /* A slightly darker blue for better contrast */
            background-color: #eff6ff;
        }
        .preference-card.multi-selected {
             border-color: #2563eb;
             background-color: #eff6ff;
        }
        /* Enhanced focus ring for better visibility */
        .preference-card:focus-visible {
            outline: 2px solid transparent;
            outline-offset: 2px;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
        }
    </style>
</head>
<body class="antialiased text-gray-900">

    <!-- Main Container -->
    <div id="main-container" class="container mx-auto max-w-3xl p-4 sm:p-6 md:p-8">

        <!-- Header Section -->
        <div class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold">My Learning Preferences</h1>
            <p class="mt-2 text-lg text-gray-700">Help your teacher understand the best ways for you to learn!</p>
        </div>

        <!-- Selections Container -->
        <div id="preference-selections" class="space-y-10">

            <!-- Question 1: How I like to show my work -->
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 id="q1-heading" class="text-xl font-semibold mb-4">1. I show my best work when I can...</h3>
                <div id="q1-options" role="radiogroup" aria-labelledby="q1-heading" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- Options will be dynamically generated by JS -->
                </div>
            </div>

            <!-- Question 2: Helpful Tools -->
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 id="q2-heading" class="text-xl font-semibold mb-4">2. What tools help you learn? (Choose all that help)</h3>
                <div id="q2-options" role="group" aria-labelledby="q2-heading" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- Options will be dynamically generated by JS -->
                </div>
            </div>

            <!-- Question 3: Working Style -->
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <h3 id="q3-heading" class="text-xl font-semibold mb-4">3. I do my best thinking when I work...</h3>
                <div id="q3-options" role="radiogroup" aria-labelledby="q3-heading" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                     <!-- Options will be dynamically generated by JS -->
                </div>
            </div>
        </div>

        <!-- Generated Code Section -->
        <div id="code-display-section" class="mt-10 text-center bg-white p-6 rounded-lg shadow-lg border-2 border-dashed border-gray-300">
            <h2 class="text-2xl font-bold text-gray-800">Your Learning Code</h2>
            <p id="code-instructions" class="text-gray-600 mt-2 mb-4">Make a selection from each category above to get your code. Then, share the number with your teacher!</p>
            <div id="generated-code" class="bg-gray-100 text-blue-800 text-5xl font-bold p-4 rounded-lg tracking-widest">
                ----
            </div>
        </div>

    </div>

    <!-- App Logic -->
    <script type="module">
        // --- Data for the preference cards ---
        const optionsData = {
            q1: [
                { id: 'write', text: 'Write', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" /><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" /></svg>` },
                { id: 'speak', text: 'Speak', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.083-3.083A6.983 6.983 0 012 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM4.417 11.583A5.013 5.013 0 004 10c0-2.21 2.239-4 5-4s5 1.79 5 4-2.239 4-5 4a5.006 5.006 0 00-2.583-.683A.5.5 0 006 13.5v.583z" clip-rule="evenodd" /></svg>` },
                { id: 'draw', text: 'Draw', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path d="M15 10a1 1 0 11-2 0 1 1 0 012 0zM3 5a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2-2a1 1 0 00-1 1v10a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H5z" /><path d="M6 11a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1z" /></svg>` },
                { id: 'build', text: 'Build', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>` }
            ],
            q2: [
                { id: 'listening_tools', text: 'Listening Tools', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H4a1 1 0 01-1-1V8a1 1 0 011-1h.586l3.707-3.707a1 1 0 011.09-.217zM14.25 5.75a.75.75 0 000 1.06l.94.94a2.5 2.5 0 010 3.536l-.94.94a.75.75 0 101.06 1.06l.94-.94a4 4 0 000-5.656l-.94-.94a.75.75 0 00-1.06 0z" clip-rule="evenodd" /></svg>` },
                { id: 'quiet_space', text: 'Quiet Space', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1.333a1 1 0 01-2 0V3a1 1 0 011-1zm6.95 3.95a1 1 0 010 1.414l-.99.99a1 1 0 11-1.414-1.414l.99-.99a1 1 0 011.414 0zM3.05 7.364a1 1 0 111.414-1.414l.99.99a1 1 0 11-1.414 1.414l-.99-.99zM10 18a1 1 0 01-1-1v-1.333a1 1 0 112 0V17a1 1 0 01-1-1zm-6.95-3.95a1 1 0 010-1.414l.99-.99a1 1 0 111.414 1.414l-.99.99a1 1 0 01-1.414 0zM16.95 12.636a1 1 0 11-1.414 1.414l-.99-.99a1 1 0 111.414-1.414l.99.99zM10 12a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" /></svg>` },
                { id: 'trackpad_mouse', text: 'Trackpad / Mouse', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><rect x="4" y="4" width="12" height="12" rx="2" /></svg>` },
                { id: 'voice_text_tools', text: 'Voice & Text Tools', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8h-1a6 6 0 11-5.93 5.98A5.98 5.98 0 0111 14.93zM9 8a1 1 0 012 0v2a1 1 0 11-2 0V8z" clip-rule="evenodd" /></svg>` }
            ],
            q3: [
                { id: 'alone', text: 'By Myself', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></svg>` },
                { id: 'partner', text: 'With a Partner', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zm-2 5a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0011 11H9zM10 6a3 3 0 116 0 3 3 0 01-6 0z" /></svg>` },
                { id: 'group', text: 'In a Small Group', icon: `<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto mb-2" viewBox="0 0 20 20" fill="currentColor"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" /></svg>` }
            ]
        };

        // --- Values for generating the unique code ---
        const codeValues = {
            q1: { write: 1, speak: 2, draw: 3, build: 4 },
            q2: { listening_tools: 100, quiet_space: 200, trackpad_mouse: 400, voice_text_tools: 800 },
            q3: { alone: 10, partner: 20, group: 30 }
        };

        // --- Function to calculate and update the code ---
        function updateCode() {
            let finalCode = 1000; // Base code to ensure a 4-digit number
            let q1Selected = false;
            let q3Selected = false;

            // Calculate Q1 value
            const q1SelectedCard = document.querySelector('#q1-options .selected');
            if (q1SelectedCard) {
                finalCode += codeValues.q1[q1SelectedCard.dataset.value];
                q1Selected = true;
            }

            // Calculate Q2 value
            const q2SelectedCards = document.querySelectorAll('#q2-options .multi-selected');
            q2SelectedCards.forEach(card => {
                finalCode += codeValues.q2[card.dataset.value];
            });

            // Calculate Q3 value
            const q3SelectedCard = document.querySelector('#q3-options .selected');
            if (q3SelectedCard) {
                finalCode += codeValues.q3[q3SelectedCard.dataset.value];
                q3Selected = true;
            }

            const codeDisplay = document.getElementById('generated-code');
            if (q1Selected && q3Selected) {
                codeDisplay.textContent = finalCode;
                document.getElementById('code-instructions').textContent = "You're all set! Share this code with your teacher.";
            } else {
                codeDisplay.textContent = "----";
                 document.getElementById('code-instructions').textContent = "Make a selection from each category above to get your code. Then, share the number with your teacher!";
            }
        }

        // --- Function to create and render preference cards ---
        function createCard(option, questionId, isMultiSelect = false) {
            const card = document.createElement('div');
            card.className = 'preference-card text-center p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm hover:shadow-lg hover:border-blue-400 focus:outline-none';
            card.dataset.value = option.id;
            card.setAttribute('tabindex', '0');
            
            if (isMultiSelect) {
                card.setAttribute('role', 'checkbox');
                card.setAttribute('aria-checked', 'false');
            } else {
                card.setAttribute('role', 'radio');
                card.setAttribute('aria-checked', 'false');
            }
            
            card.innerHTML = `${option.icon}<p class="font-semibold text-gray-700">${option.text}</p>`;
            
            const handleClick = () => {
                if (isMultiSelect) {
                    const isSelected = card.classList.toggle('multi-selected');
                    card.setAttribute('aria-checked', isSelected);
                } else {
                    document.querySelectorAll(`#${questionId}-options .preference-card`).forEach(c => {
                        c.classList.remove('selected');
                        c.setAttribute('aria-checked', 'false');
                    });
                    card.classList.add('selected');
                    card.setAttribute('aria-checked', 'true');
                }
                updateCode(); // Update the code on every click
            };

            card.addEventListener('click', handleClick);
            card.addEventListener('keydown', (event) => {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    handleClick();
                }
            });

            return card;
        }

        // --- Main App Function ---
        function main() {
            // Render the cards
            const q1Container = document.getElementById('q1-options');
            optionsData.q1.forEach(opt => q1Container.appendChild(createCard(opt, 'q1')));

            const q2Container = document.getElementById('q2-options');
            optionsData.q2.forEach(opt => q2Container.appendChild(createCard(opt, 'q2', true)));

            const q3Container = document.getElementById('q3-options');
            optionsData.q3.forEach(opt => q3Container.appendChild(createCard(opt, 'q3')));
        }
        
        // Run the app
        main();
    </script>
</body>
</html>

